<div class="modal-header">
  <h3 class="modal-title">{{editing ? 'Adding' : 'Editing'}} Marging Exceptions</h3>
</div>
<div class="modal-body">
  <form name="exceptionForm" class="form-horizontal" style="padding: 15px;" role="form">	
    <div class="form-group">
      <label class="col-sm-6">Type of Margin Exception</label>
      <div class="col-sm-6">
        <ui-select ng-model="data.margin_type" theme="select2" search-enabled="false">
          <ui-select-match>{{$select.selected.description}}</ui-select-match>
          <ui-select-choices repeat="item.code as item in marginExceptionTypes">{{item.description}}</ui-select-choices>
        </ui-select>
      </div>	
    </div>

    <div class="form-group">
      <label class="col-sm-6">Reason</label>
      <div class="col-sm-6">
        <ui-select ng-model="data.reason" theme="select2" search-enabled="false">
          <ui-select-match>{{$select.selected.description}}</ui-select-match>
          <ui-select-choices repeat="item.code as item in exceptionReasons">{{item.description}}</ui-select-choices>
        </ui-select>
      </div>	
    </div>

    <div class="form-group">
      <label class="col-sm-6">Deduction Type</label>
      <div class="col-sm-6">
        <ui-select ng-model="data.deduction_type" theme="select2" search-enabled="false">
          <ui-select-match>{{$select.selected.description}}</ui-select-match>
          <ui-select-choices repeat="item.code as item in deductionTypes">{{item.description}}</ui-select-choices>
        </ui-select>
      </div>	
    </div>
    <div class="form-group">
      <label class="col-sm-6">Date</label>
      <div class="col-sm-6">
        <div class="input-group orig-datepicker" ng-init="popup = false">
          <input type="text" 
                 class="form-control" 
                 placeholder="" 		
                 ng-model="data.deduction_date"
                 datepicker-popup="{{dateFormat||'dd/MM/yyyy'}}"
                 is-open="popup" 
                 date-disabled="disabled(date, mode)"	
                 ng-click="$event.preventDefault();
                   $event.stopPropagation();
                   popup = true;"
                 />
          <span class="input-group-btn">
            <button type="button" class="btn btn-default" ng-click="$event.preventDefault();
              $event.stopPropagation();
              popup = true">
              <i class="fa fa-calendar"></i>
            </button>
          </span>
        </div>
      </div>	
    </div>
    <div class="form-group">
      <label class="col-sm-6">Period</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" ng-model="data.deduction_period"/>
      </div>	
    </div>
    <div class="form-group">
      <label class="col-sm-6">Number of Payroll</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" ng-model="data.deduction_number_of_payroll"/>
      </div>	
    </div>
  </form>		
</div>
<div class="modal-footer">
  <div class="row">
    <div class="col-sm-7">
      <p class="text-left" style="margin:0; font-size:16px;" ng-show="editing">
        Created By <span>{{data.created_by}}</span><br/> Date Created <span>{{data.created_date | formatDate: 'DD/MM/YYYY HH:mm'}}</span>
      </p>	
    </div>
    <div class="col-sm-5">
      <button class="btn btn-warning" ng-click="cancel()"><i class="fa fa-close"></i> &nbsp; Cancel</button>
      <button class="btn btn-primary" ng-click="saveException()" ng-disabled="exceptionForm.$invalid || isSaving">
        <div ng-show="!isSaving"><i class="fa fa-save"></i> &nbsp; Approve</div>
        <div ng-show="isSaving">Saving... <i class="fa fa-spinner fa-spin"></i></div>
      </button>
    </div>
  </div>
</div>