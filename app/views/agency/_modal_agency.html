<div class="modal-window">
    <div class="modal-header">
        <h3 class="modal-title">{{data.name?'Edit Agency Information':'Adding an agency'}}</h3>
    </div>
    <div class="modal-body">
        <form name="agencyForm" class="form-horizontal" role="form" novalidate>
            <div class="form-group">
                <div class=" col-sm-5">
                    <label class="control-label">Status*</label>
                </div>
                <div class=" col-sm-7">
                    <ui-select ng-model="data.status" name="status" theme="select2" search-enabled="false" ng-required="true">
                        <ui-select-match>{{$select.selected.value}}</ui-select-match>
                        <ui-select-choices repeat="item.value as item in agencyStatus | filter: $select.search">
                            <span ng-bind-html="item.value"></span>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-5">
                    <label class="control-label">Name<span ng-show="data.status == 'Live'|| data.status == 'Submitted'">*</span>
                    </label>
                </div>
                <div class="col-sm-7">
                    <span type="text">
                        <input type="text" class="form-control" ng-model="data.name" ng-required="data.status == 'Live'||data.status == 'Submitted'">
                    </span>
                </div>
            </div>

            <div class="form-group">
                <div class=" col-sm-5">
                    <label class="control-label">Address 1<span ng-show="data.status == 'Live'">*</span>
                    </label>
                </div>
                <div class=" col-sm-7">
                    <span type="text">
                        <input type="text" class="form-control" ng-model="data.address1" ng-required="data.status == 'Live'">
                    </span>
                </div>
            </div>

            <div class="form-group">
                <div class=" col-sm-5">
                    <label class="control-label">Address 2</label>
                </div>
                <div class=" col-sm-7">
                    <span type="text">
                        <input type="text" class="form-control" ng-model="data.address2">
                    </span>
                </div>
            </div>

            <div class="form-group">
                <div class=" col-sm-5">
                    <label class="control-label">Address 3</label>
                </div>
                <div class=" col-sm-7">
                    <span type="text">
                        <input type="text" class="form-control" ng-model="data.address3">
                    </span>
                </div>
            </div>

            <div class="form-group">
                <div class=" col-sm-5">
                    <label class="control-label">Town <span ng-show="data.status == 'Live'">*</span>
                    </label>
                </div>
                <div class=" col-sm-7">
                    <span type="text">
                        <input type="text" class="form-control" ng-model="data.town" ng-required="data.status == 'Live'">
                    </span>
                </div>
            </div>

            <div class="form-group">
                <div class=" col-sm-5">
                    <label class="control-label">Country<span ng-show="data.status == 'Live'">*</span>
                    </label>
                </div>
                <div class=" col-sm-7">
                    <ui-select ng-model="data.country" name="country" theme="select2" search-enabled="false" ng-required="data.status == 'Live'">
                        <ui-select-match>{{$select.selected.name}}</ui-select-match>
                        <ui-select-choices repeat="item.code as item in countries | filter: $select.search">
                            <span ng-bind-html="item.name"></span>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>

            <div class="form-group">
                <div class=" col-sm-5">
                    <label class="control-label">Post Code<span ng-show="data.status == 'Live'">*</span>
                    </label>
                </div>
                <div class=" col-sm-7">
                    <span type="text">
                        <input type="text"  orig-postcode class="form-control" ng-model="data.postCode" ng-required="data.status == 'Live'">
                    </span>
                </div>
            </div>

            <div class="form-group">
                <div class=" col-sm-5">
                    <label class="control-label">Company Reg No.<span ng-show="data.status == 'Live'">*</span>
                    </label>
                </div>
                <div class=" col-sm-7">
                    <span type="text">
                        <input type="text"  class="form-control" ng-model="data.companyRegNo" ng-required="data.status == 'Live'" ng-pattern="/^(\d{8})+$/">
                    </span>
                </div>
            </div>

            <div class="form-group">
                <div class=" col-sm-5">
                    <label class="control-label">Company VAT No.<span ng-show="data.status == 'Live'">*</span>
                    </label>
                </div>
                <div class=" col-sm-7">
                    <span type="text">
                        <input type="text"  class="form-control" ng-model="data.companyVatNo" ng-required="data.status == 'Live'" ng-pattern="/^(\d{9})+$/">
                    </span>
                </div>
            </div>

            <!-- <input type="{{field.type?field.type:'text'}}" class="form-control" ng-model="data[field.name]" ng-required="field.required" ng-if="field.name == 'companyRegNo'" ng-pattern="/^(\d{8})+$/">
                    <input type="{{field.type?field.type:'text'}}" class="form-control" ng-model="data[field.name]" ng-required="field.required" ng-if="field.name == 'companyVatNo'" ng-pattern="/^(\d{9})+$/"> -->
        </form>
    </div>
    
    <div class="modal-footer">
        <button class="btn btn-default" ng-click="cancel()">Cancel</button>
        <button class="btn btn-primary" ng-click="ok()" ng-disabled="isSaving || agencyForm.$invalid">
            <span ng-show="!isSaving"><i class="fa fa-save"></i> &nbsp; Save </span>
            <span ng-show="isSaving"><i class="fa fa-spinner fa-spin"></i> &nbsp; Saving... </span>
        </button>
    </div>
</div>