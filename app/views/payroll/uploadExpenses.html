<!--
  <div orig-grid="gridOptions" external-scope="$scope"></div>
</div>-->

<div class="meta-box padding-10 container-fluid gutter-right">
    <div class="row">
        <div class="col-xs-12">
            <table class="table table-striped expenses-auth">
                <!--Big table-->
                <thead>
                    <!--First green row-->
                    <tr>
                        <th></th>
                        <th>Index</th>
                        <th>Agency</th>
                        <th>Full Name</th>
                        <th>Start Date</th>
                        <th>Status</th>
                        <!-- <th>Total</th> -->
                        <th>
                            <input type="checkbox" ng-model="all" ng-change="selectAll(all)"/>
                        </th>
                    </tr>
                </thead>
                <!--First green row-->
                <tbody>
                    <!--First table body-->
                    <tr ng-repeat-start="expense in claim" >
                        <!--big table basic row-->
                        <td ng-show="found[$index] && !uploaded[$index]">
                            <a data-toggle="collapse1" ng-click="test1[$index] = !test1[$index]" data-target="{{'#accordion'+$index}}" class="clickable" style="cursor:pointer">

                                <span ng-click="collapseIcon[$index].minusIcon = !collapseIcon[$index].minusIcon;" style="font-size:12px" class="fa-stack fa-lg">
                                    <i ng-if="collapseIcon[$index].minusIcon" class="fa fa-minus-square-o fa-stack-1x"></i>
                                    <i ng-if="!collapseIcon[$index].minusIcon" class="fa fa-plus-square-o fa-stack-1x"></i>

                                </span>
                            </a>
                        </td>
                        <td ng-if="found[$index] && !uploaded[$index]">{{$index}}</td>
                        <td ng-if="found[$index] && !uploaded[$index]">{{expense.agencyName}}</td>
                        <td ng-if="found[$index] && !uploaded[$index]">{{name[$index]}}</td>
                        <td ng-if="found[$index] && !uploaded[$index]">{{expense.startedDate | date : "EEE dd/MM/yyyy"}}</td>
                        <td ng-if="found[$index] && !uploaded[$index]">Submitted</td>
                        <!-- <td>{{expense.total | currency:"&pound;"}}</td> -->
                        <td ng-if="found[$index] && !uploaded[$index]">
                            <input type="checkbox" ng-model="selectedClaim[$index]" />
                        </td>
                        <td colspan="7" ng-if="!found[$index]"><center><b style="color:red;size:18">Can't Find User Or Agency <i class="fa fa-times"></i></b></center></td>
                        <td colspan="7" ng-if="uploaded[$index]"><center><b style="color:green;size:18">Uploaded <i class="fa fa-check-circle"></i></b></center></td>
                    </tr>
                   
                    <!--big table basic row-->
                    <tr ng-repeat-end>
                        <!--big table detailed row-->
                        <td colspan="12" class="td-collapsed">
                            <div id="{{'accordion'+$index}}" class="collapse1">
                                <table ng-if="test1[$index]" class="table table-striped table-container expenses-auth">
                                    <!--expense details table-->
                                    <thead>
                                        <tr>
                                            <!--<th width="10%">Category</th>-->
                                            <th width="15%">type</th>
                                            <th width="12%">supType</th>
                                            <th width="10%">Amount</th>
                                            <th width="9%">Value</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!--category-->
                                        <tr ng-repeat="ex in expense.days[0].expenses">
                                            <td><b>{{ex.expenseType}}</b></td>
                                            <td>{{getName(ex.subType)}}</td>
                                            <td>{{ex.amount}}</td>
                                            <td>{{ex.value}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="pull-right">
                <button class="btn btn-warning" ng-click="cancel()">Close</button>
                <button class="btn btn-success" ng-click="uploadSelected()">Upload</button>
            </div>
        </div>
    </div>
</div>
